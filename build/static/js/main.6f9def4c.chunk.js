(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{19:function(e,n,t){},38:function(e,n,t){},40:function(e,n,t){"use strict";t.r(n);var c=t(2),o=t.n(c),r=t(14),u=t.n(r),a=(t(19),t(3)),s=t(4),i=t.n(s),l="/api/persons",j=function(){return i.a.get(l)},f=function(e){return i.a.post(l,e)},b=function(e,n){return i.a.put("".concat(l,"/").concat(e),n)},d=function(e){return i.a.delete("".concat(l,"/").concat(e))},h=(t(38),t(0)),m=function(e){var n=e.name,t=e.number,c=e.persons,o=e.newPersons,r=e.newName,u=e.newNumber,a=e.setError;return Object(h.jsxs)("form",{onSubmit:function(e){e.preventDefault(),console.log("text:",r);var s={name:n,number:t};if(c.find((function(e){return e.name==n}))){if(window.confirm("Name already exist do you want to change the number?")){var i=c.find((function(e){return e.name==n}));b(i.id,s).then((function(){j().then((function(e){o(e.data)}))})),a("''Changed number of '".concat(i.name,"' ")),setTimeout((function(){a(null)}),5e3)}}else o(c.concat(s)),f(s).then((function(e){o(c.concat(e.data)),console.log("POST response ",e)})),r(""),u(""),a("Added person '".concat(s.name,"' ")),setTimeout((function(){a(null)}),5e3)},children:[Object(h.jsxs)("div",{children:["name: ",Object(h.jsx)("input",{onChange:function(e){console.log(e.target.value),r(e.target.value)}})]}),Object(h.jsxs)("div",{children:["number: ",Object(h.jsx)("input",{onChange:function(e){console.log(e.target.value),u(e.target.value)}})]}),Object(h.jsx)("div",{children:Object(h.jsx)("button",{type:"submit",children:"add"})})]})},O=function(e){var n=e.showAll,t=e.searchTerm;return Object(h.jsxs)("div",{children:["Search: ",Object(h.jsx)("input",{onChange:function(e){n(""==t),t(e.target.value)}})]})},v=function(e){var n=e.persons,t=e.showAll,c=e.searchTerm,o=e.newPersons,r=e.setError,u=function(e){console.log(e.target.value),d(e.target.value).then((function(){j().then((function(e){o(e.data)}))})).catch((function(e){r("Note was already removed from server"),setTimeout((function(){r(null)}),5e3)}))};return(t?n:n.filter((function(e){return e.name.toLocaleLowerCase().includes(c.toLocaleLowerCase())}))).map((function(e){return Object(h.jsxs)("p",{children:[e.name,", ",e.number," ",Object(h.jsx)("button",{value:e.id,onClick:u,children:"delete"})," "]},e.name)}))},g=function(e){var n=e.message;return null===n?null:Object(h.jsx)("div",{className:"confirm",children:n})},p=function(){var e=Object(c.useState)([]),n=Object(a.a)(e,2),t=n[0],o=n[1],r=Object(c.useState)(""),u=Object(a.a)(r,2),s=u[0],i=u[1],l=Object(c.useState)(""),f=Object(a.a)(l,2),b=f[0],d=f[1],p=Object(c.useState)(""),x=Object(a.a)(p,2),w=x[0],S=x[1],C=Object(c.useState)(!0),T=Object(a.a)(C,2),N=T[0],P=T[1],k=Object(c.useState)(null),E=Object(a.a)(k,2),L=E[0],y=E[1];return Object(c.useEffect)((function(){j().then((function(e){o(e.data)}))}),[]),Object(h.jsxs)("div",{children:[Object(h.jsx)("h2",{children:"Phonebook"}),Object(h.jsx)(g,{message:L}),Object(h.jsxs)("div",{children:[Object(h.jsx)(O,{showAll:function(e){P(e)},searchTerm:function(e){d(e)}}),Object(h.jsx)(m,{name:s,number:w,persons:t,newPersons:function(e){o(e)},newName:function(e){i(e)},newNumber:function(e){S(e)},setError:function(e){y(e)}})]}),Object(h.jsx)("h2",{children:"Numbers"}),Object(h.jsx)(v,{persons:t,showAll:N,searchTerm:b,newPersons:function(e){o(e)},setError:function(e){y(e)}})]})},x=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,41)).then((function(n){var t=n.getCLS,c=n.getFID,o=n.getFCP,r=n.getLCP,u=n.getTTFB;t(e),c(e),o(e),r(e),u(e)}))};u.a.render(Object(h.jsx)(o.a.StrictMode,{children:Object(h.jsx)(p,{})}),document.getElementById("root")),x()}},[[40,1,2]]]);
//# sourceMappingURL=main.6f9def4c.chunk.js.map